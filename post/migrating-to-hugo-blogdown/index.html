<!DOCTYPE html>
<html lang="en">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.89.4" />

    
    
    

<title>Migrating to Hugo &#43; blogdown • Ahmed Hasan</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Migrating to Hugo &#43; blogdown"/>
<meta name="twitter:description" content="Introduction So my shiny new Hugo/blogdown website has been up for two weeks now without me having posted anything about it, which goes to show that this second tweet:
Will probably put together a blog post detailing how I made this work if I get time over the weekend. It&#39;s super worth it if you&#39;re looking to switch - not to mention how neat it is to develop and manage a site entirely through RStudio"/>

<meta property="og:title" content="Migrating to Hugo &#43; blogdown" />
<meta property="og:description" content="Introduction So my shiny new Hugo/blogdown website has been up for two weeks now without me having posted anything about it, which goes to show that this second tweet:
Will probably put together a blog post detailing how I made this work if I get time over the weekend. It&#39;s super worth it if you&#39;re looking to switch - not to mention how neat it is to develop and manage a site entirely through RStudio" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://aays.github.io/post/migrating-to-hugo-blogdown/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-01-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-04T19:57:39-05:00" /><meta property="og:site_name" content="Title" />



    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.4e02f3d31db978c29e43cbdee3af32ed98d01bfbdf98034eee6f1408857c85bf.css" integrity="sha256-TgLz0x25eMKeQ8ve468y7ZjQG/vfmANO7m8UCIV8hb8=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">




<link rel="stylesheet" href="/scss/tocbot.5ef07cebc3c477b54270456f149ee02922479bb7555fd344b2c69f953b0e7e5e.css" integrity="sha256-XvB868PEd7VCcEVvFJ7gKSJHm7dVX9NEssaflTsOfl4=">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://aays.github.io/">Ahmed Hasan</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://aays.github.io/img/profile.jpeg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Ahmed Hasan</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/post/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/projects/">
						<span>Projects</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/vitae/">
						<span>CV</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/ahmedrhasan" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/aays" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<a href="mailto:ahmed.hasan@mail.utoronto.com" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2021 htr3n
  
    <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>
  
</div>


<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Migrating to Hugo &#43; blogdown</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jan 5, 2020
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/meta">META</a>
              
          
      
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/hugo">hugo</a>
           
      
          <a class="badge badge-tag" href="/tags/r">r</a>
          
      
    
    
    <br/>
    
</div>


  </header>
  
  
  
    <div class="toc-wrapper">
      <input type="checkbox" id="tocToggle">
      <label for="tocToggle">Table of Contents</label>
      
        <div class="toc" id="TableOfContents"></div>
      
    </div>
  
  
  <div class="post">
    
      <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>

    
    


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>So my shiny new Hugo/blogdown website has been up for two weeks
now without me having posted anything about it, which goes to show that
this second tweet:</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Will probably put together a blog post detailing how I made this work if I get time over the weekend. It&#39;s super worth it if you&#39;re looking to switch - not to mention how neat it is to develop and manage a site entirely through RStudio</p>&mdash; Ahmed Hasan (@ahmedrhasan) <a href="https://twitter.com/ahmedrhasan/status/1208122708120264709?ref_src=twsrc%5Etfw">December 20, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>was maybe a little optimistic. But better late than never! In this post, I’ll be
discussing why I switched, how I got started, and a few key pointers that helped
along the way. This will probably be somewhat disorganized given that I’m
writing it in a fairly stream-of-consciousness fashion; you’ve been warned.</p>
<p>(Note, however, that this post will <em>not</em> be a step-by-step tutorial on how to
create a website with blogdown – much better versions of that already exist,
including <a href="https://bookdown.org/yihui/blogdown/">the official blogdown guide</a> by
Yihui Xie, Amber Thomas, and Alison Presmanes Hill, as well as this
great <a href="https://mltconsecol.github.io/post/20170123_blogdown_hugo/">quick-start blog post</a> by Mike Treglia.)</p>
</div>
<div id="why-switch" class="section level2">
<h2>Why switch?</h2>
<p>I was previously using a <a href="https://jekyllrb.com/">Jekyll</a> website hosted
on GitHub Pages; more specifically, a very lightly modified version
of Dean Attali’s <a href="https://github.com/daattali/beautiful-jekyll">Beautiful Jekyll</a> theme. I have
no complaints with the theme itself – it’s super nice to look at and
was very straightforward to get started with. But there were a few
things I wanted that Jekyll alone could not provide:</p>
<div id="the-ability-to-write-blog-posts-in-r-markdown" class="section level3">
<h3>1. The ability to write blog posts in R Markdown</h3>
<p>This might seem like an oddly specific need, so context is probably helpful. For
the past two years, I’ve had the fortune of co-teaching a third year R course
called <a href="https://uoftcoders.github.io/rcourse/">Quantitative Methods in R for Biology</a> with the EEB department
here at U of T. The lecture material is developed entirely in R Markdown and
released on the course website for students to use as reference in class, since
all material is live-coded following the teaching model employed by <a href="https://carpentries.org">The
Carpentries</a>.</p>
<p>The course website, developed primarily by my wonderful friend and colleague
<a href="https://twitter.com/lwjohnst">Luke Johnston</a>, renders these R Markdown lectures beautifully and
generates clean HTML pages on the website. Working with this website made me
realize the added utility the Rmd format offers in writing technical/scientific
documents in general, and I realized that that was something I was just not
going to get out of Jekyll.</p>
<div id="being-able-to-execute-code-in-a-blog-post-and-display-the-output" class="section level4">
<h4>1.5. Being able to execute code in a blog post and display the output</h4>
<p>If you’ve ever used R Markdown, this point follows from the first, but I’m still
writing it out separately to emphasize its usefulness. R Markdown allows for
executable ‘code chunks’ to be interspersed in a plain text document, which is
very useful for both creating lectures and reproducible scientific documents in
general.</p>
<p>When it comes to blog posts, however, the ability to write code and have its
output automatically generated below is monumental if one is to write any form
of tutorial or technical post. Couple that with the fact that R Markdown
<em>supports code chunks in <a href="https://bookdown.org/yihui/rmarkdown/language-engines.html">other languages</a></em> (Python, Bash, JS, etc),
and the scale of this feature’s utility becomes apparent.</p>
<p>Here’s some Python:</p>
<pre class="python"><code>l = [1, 2, 3]
for i, num in enumerate(l):
  print(&#39;currently at number {}&#39;.format(num))</code></pre>
<pre><code>## currently at number 1
## currently at number 2
## currently at number 3</code></pre>
<p>some Bash:</p>
<pre class="bash"><code>for i in {1..5}; do echo $i; done</code></pre>
<pre><code>## 1
## 2
## 3
## 4
## 5</code></pre>
<p>and, of course, some R:</p>
<pre class="r"><code>library(magrittr)
library(broom)
mtcars %&gt;% 
  lm(mpg ~ wt, data = .) %&gt;% 
  tidy()</code></pre>
<pre><code>## # A tibble: 2 x 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)    37.3      1.88      19.9  8.24e-19
## 2 wt             -5.34     0.559     -9.56 1.29e-10</code></pre>
<p>Note that in all three of these instances, I’m simply typing the relevant code
into an R Markdown code chunk and swapping out <code>{r}</code> for <code>{python}</code> etc as
needed. The output is generated by blogdown, which runs every code chunk in the
Rmd file before rendering the whole thing as HTML. I have yet to leave
RStudio at any point during this process. Pretty neat!</p>
</div>
</div>
<div id="latex-math-mode-support-in-blog-posts" class="section level3">
<h3>2. LaTeX math mode support in blog posts</h3>
<p>While I admittedly still feel like I didn’t poke and prod at Jekyll enough to
make this work, I really, really wanted some form of math mode support on my
website. LaTeX (via <a href="https://www.overleaf.com">Overleaf</a>) is my primary writing tool, and I’ve
grown very accustomed to using math mode to efficiently write out mathematical
expressions.</p>
<p>On our EEB313 course website, anything written in math mode in a lecture’s Rmd
renders perfectly on the website (see <a href="https://uoftcoders.github.io/rcourse/lec13-theory.html">this fantastic lecture on mathematical
modelling</a> by Amber Gigi Hoi and Zoe Humphries, who I was fortunate to
teach the course with this year). This was something I really wanted for
myself; on my original website, writing out population genetic statistics such as
<span class="math inline">\(\theta_{\pi}\)</span> and <span class="math inline">\(F_{ST}\)</span> required copy and pasting in special characters and
using HTML tags like &lt;sub&gt; for subscripts. Really, really not fun.</p>
<p>In retrospect, given what I had to do to enable math mode for my Hugo website
(more on that below) I could have probably done the same for my earlier website,
so I don’t want to knock the latter at all for this point. But it does feel good
to be able to write math right alongside executable code chunks!</p>
</div>
<div id="doing-everything-from-rstudio" class="section level3">
<h3>3. Doing everything from RStudio</h3>
<p>If you’ve ever had the misfortune of asking me about my long-winded opinions on
IDEs and such, you’ll know I’d generally be hard-pressed to name anything that I
believe beats the simple efficiency of <code>vim</code> and <code>tmux</code> – and thus refuse to
use anything else. The only exception to that remains RStudio, which not only
does every single thing right, but is also maintained by an excellent team that
is constantly adding relevant and useful features.</p>
<p>I particularly love RStudio’s projects feature, with also integrates beautifully
with Git/GitHub and keeps everything nice and self-contained. The prospect of
maintaining the many disparate components of a website (blog posts, about/CV
pages, layouts, etc) alongside added functionality from blogdown (widgets for
creating new posts, inserting images, etc) all within a single RStudio project
was, naturally, pretty appealing.</p>
</div>
</div>
<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p>I started where anyone else wanting to start with blogdown should – with the
official guide that I linked above (and <a href="https://bookdown.org/yihui/blogdown/">will again here</a>). The guide
covers how to get started with the blogdown package as well as <a href="https://gohugo.io/">Hugo</a>, the
static site generator with which blogdown does its thing. Bear in mind that
although the guide is generally structured in the order of steps you’d take to
build and deploy a website, it’s quite heavy on details as opposed to just being
a straight step-by-step tutorial and nothing but. This is obviously a good thing
and makes the book a great reference, but if you’re an impatient soul like
myself, you’ve been warned!</p>
<p>At the very least, I still recommend going through all of Chapters 1 and 2, and
picking your theme (section 1.6) at some point along the way. There are a ton of
great themes out there, but it’s worth keeping in mind that there are often
slight differences in the <code>config.toml</code> files between them. This means that a
config setting in one theme may not be the same as another (i.e. syntax
highlighting might be enabled with <code>highlight = true</code> in one theme, but
<code>highlightjs = true</code> in another).</p>
<p>Once you’ve chosen a theme, RStudio’s own New Project dialog actually includes a
‘Create website using blogdown’ option, which allows you to simply list the Git
repo hosting a given theme and have RStudio import it in full. I opted for the
<a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a> theme by <a href="https://github.com/htr3n">htr3n</a> as a starting point, because a)
it was nice and minimalistic and b) I was very, very adamant about wanting a
nice looking sidebar.</p>
<p>I’d recommend really exploring every nook and cranny of your newly downloaded
theme before making major modifications or starting to migrate your own content.
I talk a bit more about the directory structure (which was admittedly trickier
to figure out than I’d have liked) below.</p>
<p>Note that the website can be deployed locally from within RStudio (or the
Terminal – more on that below) at any time. Not only is this unbelievably
useful to preview changes (especially if/when you’re initially modifying the
aesthetics of the theme to suit your needs), it in fact updates instantaneously
every time a change has been made. I can’t stress just how much of a time
saver this has been.</p>
<p>And now for some smaller tips on hurdles I encountered along the way! Please
note that these are more pointers than tutorials, and the reference material
I’ve linked and will link along the way will be substantially more useful for
getting a base understanding of what’s going on. I’m also not really going to
avoid jargon too much – I’m envisioning these tips to be useful once you’ve
already got a theme loaded, have done some exploring/reading, and are now
getting into the creation/migration process.</p>
</div>
<div id="some-tips" class="section level2">
<h2>Some tips</h2>
<div id="hugos-directory-structure" class="section level3">
<h3>Hugo’s directory structure</h3>
<p>Hugo’s directory structure might also be a bit strange to newcomers, though I
found <a href="https://www.jakewiesler.com/blog/hugo-directory-structure/">this blog post</a> to be quite helpful in demystifying why
it is the way it is. Another good rundown is naturally found in the blogdown
book, in section 2.5.</p>
<p>I won’t recap the post/section, but here are some key things to keep in mind –
some of which I made the mistake of discovering via slow and somewhat
frustrating trial and error out of some weird initial need to just figure this
out on my own without resorting to the reference material.</p>
<ol style="list-style-type: decimal">
<li><strong>The website is rendered from the <code>public/</code> directory.</strong></li>
</ol>
<ul>
<li><p>A corollary to this is that <code>public/</code> should be treated as <strong>read-only</strong>.</p></li>
<li><p>Of course, you’re able to edit any file in <code>public</code> to your heart’s content.
But know that every single time your site is regenerated (which happens after
even the smallest changes) <em>whatever edits you directly made in <code>public</code> will
be overwritten</em>.</p></li>
<li><p>Basically - do not even bother entering <code>public</code> except for when you’re
pushing the website to GitHub for deployment (more on that below). All the
action happens in other directories/files.</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><strong>Your <code>layouts/</code> and <code>static/</code> directories will most likely be empty at first.</strong></li>
</ol>
<ul>
<li><p>Why does this matter? Well, Hugo uses the templates in <code>layouts/</code> to render
the markdown files in your <code>content/</code> directory. Can’t do much of that if
there are no layouts.</p></li>
<li><p>However, if your theme is anything like mine, there ought to be a <code>themes/</code>
directory containing its own <code>layouts/</code>. Copy everything in the latter former
into the base <code>layouts/</code> folder. Same goes for <code>static/</code>.</p></li>
<li><p>I don’t know if this is standard practice, but it worked for me, and only
needs to be done once, really.</p></li>
</ul>
</div>
<div id="two-ways-to-get-your-site-running-locally" class="section level3">
<h3>Two ways to get your site running locally</h3>
<p>The blogdown book recommends using <code>blogdown::serve_site</code> to create a local
server, but I’ve found that running <code>hugo server</code> in Bash while in the
root directory of your site does the same thing. The advantage of the latter
is that it’ll reload when you make purely cosmetic changes, which I found
useful when initially making some sweeping design edits. Conversely,
I found <code>serve_site</code> didn’t always respond to those changes, for whatever reason.
This may be one of those (frequent) instances where I’m just doing something
terribly wrong, so your mileage may vary.</p>
<p>One clear difference between the two (and one I’m actually quite sure of!) is
that if you’re editing an Rmd file, a server via <code>hugo server</code> will <em>not</em>
dynamically update the post. This is because as far as I can tell, the Rmd files
are not rendered by Hugo, and only <code>serve_site</code> actually looks for changes in
your Rmd files before re-rendering any changed files as html. This makes
intuitive sense to me, since <code>hugo</code> isn’t explicitly built to pull up
an R kernel and selectively run chunks of code in a text file before rendering
as HTML, whereas blogdown is all about compiling those Rmd files.</p>
<p>Finally – and this isn’t explicitly about getting a local server going, but has
been helpful – running either of <code>blogdown::build_site</code> in R or just <code>hugo</code> in
Bash while in your root dir will make Hugo rebuild your site. Useful in a pinch,
and my goodness is it fast.</p>
</div>
<div id="adding-your-own-parameters" class="section level3">
<h3>Adding your own parameters</h3>
<div id="post-specific-parameters" class="section level4">
<h4>Post-specific parameters</h4>
<p>One challenge I faced when putting together the Projects page involved
designating a given project as having been from my undergrad years. In my case,
I wanted to do this because I wanted that post to render in a separate section
in my Projects page.</p>
<p>In the hyde-hyde theme, each project in the Projects page is rendered from a
separate md file. In the md file pertaining to this undergrad project,
I added the following in the YAML header:</p>
<pre><code>undergrad = true</code></pre>
<p>Then, in <code>layouts/partials/projects/content.html</code>, the parameters can be
accessed via <code>.Data.Pages</code>, with this parameter in particular via
<code>Params.undergrad</code>. To be honest, I’m still not super comfortable with the
syntax, but I fiddled with it enough to get it working this one time
so that’s about the extent of what I can share.</p>
<pre class="html"><code>    &lt;h2&gt;Undergraduate Research&lt;/h2&gt;
    &lt;section&gt;
        &lt;div class=&quot;portfolio_content&quot;&gt;
            &lt;hr class=&quot;divider&quot;&gt;
            {{ range (where .Data.Pages &quot;Params.undergrad&quot; &quot;==&quot; true).ByDate.Reverse }}
            &lt;div class=&quot;row&quot;&gt;
                &lt;div class=&quot;col-md-4 col-sm-4 col-xs-12&quot; href=&quot;{{ .Params.link }}&quot;
                    target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;</code></pre>
<p>The specific thing to look for is that line wrapped in pairs of curly braces.
What this does is render all pages where <code>undergrad == true</code>, and then sort them
by date with most recent first. Removing the <code>ByDate.Reverse</code> bit would just
render the range of posts fulfulling that criterion. This is a modification of
code that was already in this file as part of the original theme, but works for
me just fine. There’s tons more documentation to be found on <a href="https://gohugo.io/content-management/">the Hugo
docs</a> if you’d like to do some reading of your own.</p>
</div>
<div id="global-parameters" class="section level4">
<h4>Global parameters</h4>
<p>You’ll find a whole host of parameters listed in your theme’s <code>config.toml</code>, and
it’s likely they’ll cover most if not all of your needs. However, should you
feel the need to add your own, I found adding them to be quite intuitive.</p>
<p>To do so, you more or less add whatever parameter you want to bring into
existence to <code>config.toml</code> and then modify your theme’s partials accordingly.
Say there was a chunk of HTML code in one of your partials you wanted to have
the option of hiding globally.</p>
<pre class="html"><code>&lt;p&gt;I am a chunk of stuff you want to have the option of hiding globally.&lt;/p&gt;</code></pre>
<p>(I’d have a better example if I was actually competent at HTML)</p>
<p>First, in <code>config.toml</code>, add a new parameter under <code>[params]</code> and set it
to some value (boolean/character/numeric). In this case, I’ll call this
parameter <code>showchunk</code>:</p>
<pre><code>showchunk = false</code></pre>
<p>Then, modify the HTML as follows:</p>
<pre class="html"><code>{{ if .Site.Params.showchunk }}
  &lt;p&gt;I am a chunk of stuff you want to have the option of hiding globally.&lt;/p&gt;
{{ end }}</code></pre>
<p>And now you can enable/disable parts of your HTML at will using <code>.Site.Params</code>.</p>
</div>
</div>
<div id="math-mode-mathjax-support" class="section level3">
<h3>Math mode (MathJax) support</h3>
<p>So, some not great news – most Hugo themes don’t natively include MathJax
support, which means that writing, say, the expected genetic diversity in a
population tends to render like this:</p>
<p><span class="math display">\[ \theta = 4N_{e}\mu \]</span></p>
<p>instead of <span class="math inline">\(\theta = 4N_{e}\mu\)</span>. Fixing this was a bit frustrating, but the
solution I eventually found (via <a href="https://divadnojnarg.github.io/blog/mathjax/">this great blog post</a>) boiled down to:</p>
<ol style="list-style-type: decimal">
<li><p>In <code>layouts/partials</code>, create a file called <code>mathjax_support.html</code> containing
the second snippet of code in the above blog post.</p></li>
<li><p>The post above recommends including the file in <code>header.html</code> or
<code>footer.html</code>. Maybe it’s my theme, but I had little success with either. In my
case, it was adding it to <code>layouts/partials/page-single/content.html</code> that did
the trick. By ‘include’, I mean add the following snippet:</p></li>
</ol>
<pre class="html"><code>{{ include mathjax_support.html }}</code></pre>
<p>In line with the tip above about adding your own parameters, I nested this
within a parameter I added:</p>
<pre class="html"><code>  &lt;div class=&quot;post&quot;&gt;
    {{ if .Site.Params.math }}
      {{ partial &quot;mathjax-support.html&quot; }}
    {{ end }}
    {{ .Content }}
  &lt;/div&gt;</code></pre>
<p>This way, I can set <code>math = false</code> in <code>config.toml</code> if needed.</p>
<p>Note that the <code>hugo-academic</code> theme comes with MathJax support out the box, and
is generally a great theme to use if you’re an academic. “But you’re an academic
and didn’t use it,” I hear you cry, and you’re right – but like I said earlier,
I was very adamant about having a nice looking sidebar.</p>
</div>
<div id="pushing-to-github" class="section level3">
<h3>Pushing to GitHub</h3>
<p>This is explained in the blogdown book (section 3.3) but I completely missed it
at first, as expected. The takeaway is this: <strong>When pushing your website to
GitHub, init your repo in <code>public/</code>, not in your website’s root</strong>. Commit
everything in <code>public/</code>, push, and render with GitHub Pages; <code>public/</code> should
contain everything GitHub Pages needs to put the front-end together.</p>
<p>You may want to commit your whole site directory for posterity, but creating a
Git repo that contains a subfolder which is itself a separate Git repo is a much
murkier prospect than it sounds: if you’re currently in <code>public/</code> and run a Git
command, what’s stopping Git from thinking you’re in a subfolder of the root
directory and acting accordingly? Although workarounds are possible, I just went
with the following archival method:</p>
<ol style="list-style-type: decimal">
<li>Run <code>git init</code> in the root dir.</li>
<li>Commit and push to GitHub.</li>
<li><code>rm -rf</code> the <code>.git</code> folder, essentially un-making this directory as a repo.</li>
</ol>
<p>It’s an ugly workaround, but it essentially creates a time capsule on GitHub of
what the rest of your site – <code>config.toml</code>, your <code>layouts</code> and <code>static</code>
folders, etc – looks like. I figured it’s unlikely I’ll make many major changes
to it, so this at the very least means that my site code lives outside of just
my computer.</p>
<p>If you’d like to go the whole nine yards with maintaining nested Git repos, the
method is laid out quite nicely near the bottom of <a href="https://mltconsecol.github.io/post/20170123_blogdown_hugo/">this blog
post</a>.</p>
</div>
</div>
<div id="conclusion-reading-list" class="section level2">
<h2>Conclusion + Reading List</h2>
<p>This post is already quite long, so I’ll try to keep this brief. I’m having a
ton of fun tinkering with blogdown, and I don’t see myself switching away from
it anytime soon. If you’re thinking about doing the thing, I recommend doing
the thing; it’s much less daunting than it might seem, and a fun side project
to boot.</p>
<p>Reading List:</p>
<ul>
<li><a href="https://bookdown.org/yihui/blogdown/">The official blogdown guide</a></li>
<li><a href="https://mltconsecol.github.io/post/20170123_blogdown_hugo/">Getting Going with Blogdown &amp; Hugo</a>
<ul>
<li>A great quick-start guide if you’re itching to get going</li>
</ul></li>
<li><a href="https://www.jakewiesler.com/blog/hugo-directory-structure/">Hugo’s directory structure, explained</a></li>
<li><a href="https://divadnojnarg.github.io/blog/mathjax/">Setting MathJax with Hugo</a></li>
<li><a href="https://community.rstudio.com/t/what-is-hard-about-blogdown/8108">What is hard about blogdown?</a>
<ul>
<li>This is a useful forum discussion prompted by Alison Hill,
one of the co-authors of the official guide - there are some useful
bits of info + ways to avoid common pitfalls listen in there</li>
</ul></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive Guide</a></li>
</ul>
</div>

    <script>
    
    
      var tags = document.getElementsByTagName("h2");
      for (var i=0, h2; h2 = tags[i]; i++) {
        h2.id = h2.innerHTML.toLowerCase().replace(" ", "-");
      }
      var tags = document.getElementsByTagName("h3");
      for (var i=0, h3; h3 = tags[i]; i++) {
        h3.id = h3.innerHTML.toLowerCase().replace(" ", "-");
      }
      var tags = document.getElementsByTagName("h4");
      for (var i=0, h4; h4 = tags[i]; i++) {
        h4.id = h4.innerHTML.toLowerCase().replace(" ", "-");
      }
    </script>
  </div>
  


  

  
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/r.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/python.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/bash.min.js"></script>
            
        
    <script type="text/javascript">
        
        hljs.configure({languages: ["r, python, bash"]});
        
        hljs.initHighlightingOnLoad();
    </script>
    



<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.js"></script>
<script type="text/javascript">
  if (tocbot) {
    tocbot.init({
      
      tocSelector: '.toc',
      
      contentSelector: '.post',
      
      headingSelector: 'h2, h3, h4',
      collapseDepth: 4
    });
  }
</script>



    



    </body>
</html>
